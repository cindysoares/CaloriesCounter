<div class="panel" ng-controller='MealsCtrl as editMeal'>
	<div><form name="formMeal" ng-submit="editMeal.save()">
		<ul class="list-group">
            <li class="list-group-item" ng-repeat="meal in calories.loggedUser.meals">
            	<ul class="nav nav-tabs nav-justified">
              		<li>{{meal.date| date:'mediumDate'}} {{meal.date| date:'shortTime'}} {{meal.description}}
              			<span class="label label-default">{{meal.calories}} calories</span>
              		</li>
              		<li> 
						<div align="right"">
		              	<a href ng-click="editMeal.updateMeal()"><span style="font-size:1.5em;" class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
		             	<a href ng-click="editMeal.removeMeal(meal)"><span style="font-size:1.5em;" class="glyphicon glyphicon-minus-sign" aria-hidden="true"></span></a>
		             	</div>
		            </li>
		         </ul>
			</li>
           
           <li class="list-group-item" ng-show="editMeal.editMode">
				<ul class="nav nav-tabs nav-justified">
					<li><fieldset class="form-group">
						<input type="date" class="form-control" ng-model="editMeal.editedMeal.date" required/>
					</fieldset></li>
					<li><fieldset class="form-group">
						<input type="time" class="form-control" ng-model="editMeal.editedMeal.date" required/>
					</fieldlit></li>
					<li><fieldset class="form-group">
						<input type="text" class="form-control" ng-model="editMeal.editedMeal.description" placeholder="description" required/>
					</fieldset></li>
					<li><fieldset class="form-group">
						<input type="number" class="form-control" ng-model="editMeal.editedMeal.calories" placeholder="calories" required/>
					</fieldset></li>
					<li>
						<div align="right">
						<a href ng-click="editMeal.addMeal()"><span style="font-size:1.5em;" class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span></a>
						<a href ng-click="editMeal.setEditMode(false)"><span style="font-size:1.5em;" class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span></a>
						</div>
					</li>
				 </ul>
			 </li>
			<li class="list-group-item" ng-hide="editMeal.editMode">
				<div align="right" >
					<a href ng-click="editMeal.setEditMode(true)"><span style="font-size:1.5em;" class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span></a>
				</div>
			</li>
		</ul>
    	<div ng-messages="editMeal.$messages" ng-messages-include="messages.html"></div>
    </form>
</div>	
